<!DOCTYPE html>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<html lang="en" >
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="lib/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/src-min-noconflict/ext-language_tools.js"></script>
    <script src="lib/base64.js"></script>
    <script src="x86Reference/ref.js"></script>
    <script src="https://togetherjs.com/togetherjs-min.js"></script>
    <script defer src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script defer src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
    <script defer src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
    <script defer src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>
    <script defer src="//ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
    <script defer src="config.js"></script>
    <script defer src="v2.js"></script>
    <script defer src="examples.js"></script>
    <script src="injection.js"></script>
    <script>
      cpp(`#include <stdio.h>
          char *c_hello() {
            return "Hello World"; 
          }`).then((instance)=>{
        let buffer = new Uint8Array(instance.exports.memory.buffer); 
        let test = instance.exports._Z7c_hellov(); 
        let mytext = ""; 
        for (let i=test; buffer[i]; i++) {
          mytext += String.fromCharCode(buffer[i]);
        }
        console.log(mytext); document.getElementById("textcontent").innerText = mytext;
      });
    </script>
  </head>
  <body>
    <div id="textcontent"></div>
  </body>
  </html>
